const accaunt1 = {
  useName: "Николай",
  iphone: "+79964179001",
  transaction: [800, -150, 1500, -500, -170, -37, 5000, -1470, -800, 450],
  interestBalans: 1.5,
  password: 1111,
  transactionDate: [
    "Tue Feb 21 2023 16:32:45",
    "Tue Feb 20 2023 11:13:45",
    "Tue Feb 19 2023 17:33:45",
    "Tue Feb 18 2023 10:12:45",
    "Tue Feb 17 2023 13:52:45",
    "Tue Feb 16 2023 18:02:45",
    "Tue Feb 16 2023 23:32:45",
    "Tue Feb 15 2023 17:32:45",
    "Tue Feb 14 2023 09:55:45",
    "Tue Feb 14 2023 14:16:45",
  ],
  currency: "RUB",
  locale: "ru-RU",
};
const accaunt2 = {
  useName: "Татьяна",
  iphone: "+79886298315",
  transaction: [5500, -150, 15000, -800, -100, -137, 5000, -1770, -620, 40070],
  interestBalans: 1.7,
  password: 2222,
  transactionDate: [
    "Tue Feb 21 2023 16:32:45",
    "Tue Feb 20 2023 11:13:45",
    "Tue Feb 19 2023 17:33:45",
    "Tue Feb 18 2023 10:12:45",
    "Tue Feb 17 2023 13:52:45",
    "Tue Feb 16 2023 18:02:45",
    "Tue Feb 16 2023 23:32:45",
    "Tue Feb 15 2023 17:32:45",
    "Tue Feb 14 2023 09:55:45",
    "Tue Feb 14 2023 14:16:45",
  ],
  currency: "RUB",
  locale: "ru-RU",
};
const accaunt3 = {
  useName: "Денис",
  iphone: "+79064111997",
  transaction: [1500, -1050, 1740, -420, -100, 1370, 3500, -1770, -620, 470],
  interestBalans: 1.2,
  password: 3333,
  transactionDate: [
    "Tue Feb 21 2023 16:32:45",
    "Tue Feb 20 2023 11:13:45",
    "Tue Feb 19 2023 17:33:45",
    "Tue Feb 18 2023 10:12:45",
    "Tue Feb 17 2023 13:52:45",
    "Tue Feb 16 2023 18:02:45",
    "Tue Feb 16 2023 23:32:45",
    "Tue Feb 15 2023 17:32:45",
    "Tue Feb 14 2023 09:55:45",
    "Tue Feb 14 2023 14:16:45",
  ],
  currency: "RUB",
  locale: "ru-RU",
};
const accaunt4 = {
  useName: "Юленэ",
  iphone: "+79624254996",
  transaction: [1200, -360, 1600, -120, -100, -137, 2150, -1770, -620, 470],
  interestBalans: 1.4,
  password: 4444,
  transactionDate: [
    "Tue Feb 21 2023 16:32:45",
    "Tue Feb 20 2023 11:13:45",
    "Tue Feb 19 2023 17:33:45",
    "Tue Feb 18 2023 10:12:45",
    "Tue Feb 17 2023 13:52:45",
    "Tue Feb 16 2023 18:02:45",
    "Tue Feb 16 2023 23:32:45",
    "Tue Feb 15 2023 17:32:45",
    "Tue Feb 14 2023 09:55:45",
    "Tue Feb 14 2023 14:16:45",
  ],
  currency: "RUB",
  locale: "ru-RU",
};
const accaunt5 = {
  useName: "Ирина",
  iphone: "+79880886141",
  transaction: [
    -5000, -360, 16000, -1200, -100, -1370, 2150, -1770, -620, 4070,
  ],
  interestBalans: 1.1,
  password: 5555,
  transactionDate: [
    "Tue Feb 21 2023 16:32:45",
    "Tue Feb 20 2023 11:13:45",
    "Tue Feb 19 2023 17:33:45",
    "Tue Feb 18 2023 10:12:45",
    "Tue Feb 17 2023 13:52:45",
    "Tue Feb 16 2023 18:02:45",
    "Tue Feb 16 2023 23:32:45",
    "Tue Feb 15 2023 17:32:45",
    "Tue Feb 14 2023 09:55:45",
    "Tue Feb 14 2023 14:16:45",
  ],
  currency: "RUB",
  locale: "ru-RU",
};
const accaunt6 = {
  useName: "Иван",
  iphone: "+79288224690",
  transaction: [120, -3060, 1600, -120, -1000, -137, 2550, -1770, -620, 4070],
  interestBalans: 1.9,
  password: 6666,
  transactionDate: [
    "Tue Feb 21 2023 16:32:45",
    "Tue Feb 20 2023 11:13:45",
    "Tue Feb 19 2023 17:33:45",
    "Tue Feb 18 2023 10:12:45",
    "Tue Feb 17 2023 13:52:45",
    "Tue Feb 16 2023 18:02:45",
    "Tue Feb 16 2023 23:32:45",
    "Tue Feb 15 2023 17:32:45",
    "Tue Feb 14 2023 09:55:45",
    "Tue Feb 14 2023 14:16:45",
  ],
  currency: "RUB",
  locale: "ru-RU",
};
const accaunt7 = {
  useName: "Антонио",
  iphone: "+79624333191",
  transaction: [
    12000, -3060, -1600, -180, -1000, -137, 2150, -1770, -620, -470,
  ],
  interestBalans: 1.3,
  password: 7777,
  transactionDate: [
    "Tue Feb 21 2023 16:32:45",
    "Tue Feb 20 2023 11:13:45",
    "Tue Feb 19 2023 17:33:45",
    "Tue Feb 18 2023 10:12:45",
    "Tue Feb 17 2023 13:52:45",
    "Tue Feb 16 2023 18:02:45",
    "Tue Feb 16 2023 23:32:45",
    "Tue Feb 15 2023 17:32:45",
    "Tue Feb 14 2023 09:55:45",
    "Tue Feb 14 2023 14:16:45",
  ],
  currency: "RUB",
  locale: "ru-RU",
};
const arrayAccount = [
  accaunt1,
  accaunt2,
  accaunt3,
  accaunt4,
  accaunt5,
  accaunt6,
  accaunt7,
];

///////////////////////////////////////////////////////
//Блоки
let displayTrans = document.querySelector(".display-transaction");
//Кнопки

//Формы

//Строки
let deposiText = document.querySelector(".receiving");
let spentText = document.querySelector(".spent");
let percentText = document.querySelector(".percent");
let balansText = document.querySelector(".account-details__current-balance");
//////////////////////////////////////////////////////
const displayTransaction = function (acc) {
  displayTrans.innerHTML = "";
  let transaction = acc.transaction;

  transaction.forEach(function (trans) {
    let operation = trans < 0 ? "write-offs" : "deposit";
    let whatOperation = trans < 0 ? " Списание" : "Пополнение";

    let transactionRow = `
      <div class="display-transaction__row">
         <h2 class="display-transaction__${operation}">${whatOperation}</h2>
         <h2 class="display-transaction__date-operation">18.02.2023</h2>
         <h2 class="display-transaction__amount">${trans}</h2>
      </div>
      `;

    displayTrans.insertAdjacentHTML("afterbegin", transactionRow);
  });
};
displayTransaction(accaunt7);

const getFinalBalance = function (trans) {
  let currentBalance = trans.transaction.reduce((acc, item) => acc + item, 0);
  let getDeposits = trans.transaction.reduce((acc, item) => {
    if (item >= 0) {
      return acc + item;
    } else {
      return acc;
    }
  }, 0);
  let getWriteOff = trans.transaction.reduce((acc, item) => {
    if (item <= 0) {
      return acc + item;
    } else {
      return acc;
    }
  }, 0);
  let getPercent = currentBalance * (trans.interestBalans / 100);

  balansText.textContent = currentBalance;
  deposiText.textContent = getDeposits;
  spentText.textContent = getWriteOff;
  percentText.textContent = Math.floor(getPercent);
};
getFinalBalance(accaunt7);

